<div class="customer-maintenance-container">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">My Maintenance Requests</h2>
    <button class="btn btn-primary" (click)="openCreateModal()">
      <i class="bi bi-plus-circle me-2"></i> New Request
    </button>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center my-4">
    <div class="spinner-border"></div>
  </div>

  <!-- List -->
  <table class="table table-hover" *ngIf="!loading && maintenances.length">
    <thead>
      <tr>
        <th>Customer</th>
        <th>Tech Company</th>
        <th>Product</th>
        <th>Service Type</th>
        <th>Warranty Start</th>
        <th>Warranty End</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let m of maintenances">
        <td>{{ m.customerName }}</td>
        <td>{{ m.techCompanyName || '-' }}</td>
        <td>{{ m.productName || '-' }}</td>
        <td>{{ m.serviceType || '-' }}</td>
        <td>{{ m.warrantyStart | date:'shortDate' }}</td>
        <td>{{ m.warrantyEnd | date:'shortDate' }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Empty state -->
  <div *ngIf="!loading && !maintenances.length" class="alert alert-info">
    No maintenance requests found.
  </div>
</div>
