<div *ngIf="loading" class="alert alert-info">Loading profile...</div>

<div *ngIf="!loading && profile" class="card shadow-lg mb-4">
  <div class="card-header bg-dark text-white">{{ profile.fullName }}</div>
  <div class="card-body">
    <p><strong>Email:</strong> {{ profile.email }}</p>
    <p><strong>Username:</strong> {{ profile.userName }}</p>
    <p><strong>Roles:</strong> <span class="badge bg-secondary">{{ profile.roleNames.join(', ') }}</span></p>
    <p><strong>Address:</strong> {{ profile.address }}, {{ profile.city }}, {{ profile.country }}</p>

    <app-customer-profile-details *ngIf="profile.roleNames.includes('Customer')" [userId]="profile.userId"></app-customer-profile-details>
    <app-techcompany-profile-details *ngIf="profile.roleNames.includes('TechCompany')" [userId]="profile.userId"></app-techcompany-profile-details>
    <app-deliveryperson-profile-details *ngIf="profile.roleNames.includes('DeliveryPerson')" [userId]="profile.userId"></app-deliveryperson-profile-details>
  </div>
  <div class="card-footer">
    <app-chat></app-chat>
  </div>
</div>